{"ast":null,"code":"export default class Movies {\n  constructor(key) {\n    this._apiLink = 'https://api.themoviedb.org/3';\n    this.imgLink = 'https://image.tmdb.org/t/p/w500/';\n    this.apiKey = key;\n  }\n  async getMovie(id) {\n    const _apiBase = 'https://api.themoviedb.org/3/movie/';\n    const url = _apiBase + id;\n    const options = {\n      method: 'GET',\n      headers: {\n        Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4NDcyZTEyZjNhMjQ1Y2E0ZDBlODEyODE3OGQ0MmQ1ZCIsIm5iZiI6MTczMjc4OTc3NC40NzEsInN1YiI6IjY3NDg0NjBlOTQyMTVkY2Q2ZDZiYjFkOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.-sTVBEfglf_uiTn5p4wVaM54qAm27DINdypS0FdV1VY'\n      }\n    };\n    movie = await fetch(url, options);\n    if (!movie.ok) throw new Error('Error Movie');\n    let data = await movie.json();\n    return data;\n  }\n  async searchMovie(query) {\n    let page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    let movies = await fetch(`${this._apiLink}/search/movie/?api_key=${this.apiKey}&query=${query}&page=${page}`);\n    if (!movies.ok) throw new Error('Error Search');\n    let data = await movies.json();\n    return data;\n  }\n  async getGenres() {\n    if (!this.genres) this.genres = await (await fetch(`${this._apiLink}/genre/list?api_key=${this.apiKey}`)).json();\n    return this.genres;\n  }\n}","map":{"version":3,"names":["Movies","constructor","key","_apiLink","imgLink","apiKey","getMovie","id","_apiBase","url","options","method","headers","Authorization","movie","fetch","ok","Error","data","json","searchMovie","query","page","movies","getGenres","genres"],"sources":["/Users/makbuk/Desktop/ kata/Movies/src/services/Movies.js"],"sourcesContent":["export default class Movies {\n  _apiLink = 'https://api.themoviedb.org/3';\n  imgLink = 'https://image.tmdb.org/t/p/w500/';\n\n  constructor(key) {\n    this.apiKey = key;\n  }\n\n\n  async getMovie(id) {\n    const _apiBase = 'https://api.themoviedb.org/3/movie/';\n    const url = _apiBase + id;\n    const options = {\n      method: 'GET',\n      headers: {\n        Authorization:\n          'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4NDcyZTEyZjNhMjQ1Y2E0ZDBlODEyODE3OGQ0MmQ1ZCIsIm5iZiI6MTczMjc4OTc3NC40NzEsInN1YiI6IjY3NDg0NjBlOTQyMTVkY2Q2ZDZiYjFkOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.-sTVBEfglf_uiTn5p4wVaM54qAm27DINdypS0FdV1VY',\n      },\n    };\n  \n    movie = await fetch(url, options)\n    if (!movie.ok) throw new Error('Error Movie');\n    let data = await movie.json();\n    return data;\n  }\n\n  async searchMovie(query, page = 1) {\n    let movies = await fetch(`${this._apiLink}/search/movie/?api_key=${this.apiKey}&query=${query}&page=${page}`);\n    if (!movies.ok) throw new Error('Error Search');\n    let data = await movies.json();\n    return data;\n  }\n  async getGenres() {\n    if (!this.genres) this.genres = await (await fetch(`${this._apiLink}/genre/list?api_key=${this.apiKey}`)).json();\n    return this.genres;\n  }\n}\n"],"mappings":"AAAA,eAAe,MAAMA,MAAM,CAAC;EAI1BC,WAAW,CAACC,GAAG,EAAE;IAAA,KAHjBC,QAAQ,GAAG,8BAA8B;IAAA,KACzCC,OAAO,GAAG,kCAAkC;IAG1C,IAAI,CAACC,MAAM,GAAGH,GAAG;EACnB;EAGA,MAAMI,QAAQ,CAACC,EAAE,EAAE;IACjB,MAAMC,QAAQ,GAAG,qCAAqC;IACtD,MAAMC,GAAG,GAAGD,QAAQ,GAAGD,EAAE;IACzB,MAAMG,OAAO,GAAG;MACdC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACPC,aAAa,EACX;MACJ;IACF,CAAC;IAEDC,KAAK,GAAG,MAAMC,KAAK,CAACN,GAAG,EAAEC,OAAO,CAAC;IACjC,IAAI,CAACI,KAAK,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,aAAa,CAAC;IAC7C,IAAIC,IAAI,GAAG,MAAMJ,KAAK,CAACK,IAAI,EAAE;IAC7B,OAAOD,IAAI;EACb;EAEA,MAAME,WAAW,CAACC,KAAK,EAAY;IAAA,IAAVC,IAAI,uEAAG,CAAC;IAC/B,IAAIC,MAAM,GAAG,MAAMR,KAAK,CAAE,GAAE,IAAI,CAACZ,QAAS,0BAAyB,IAAI,CAACE,MAAO,UAASgB,KAAM,SAAQC,IAAK,EAAC,CAAC;IAC7G,IAAI,CAACC,MAAM,CAACP,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,cAAc,CAAC;IAC/C,IAAIC,IAAI,GAAG,MAAMK,MAAM,CAACJ,IAAI,EAAE;IAC9B,OAAOD,IAAI;EACb;EACA,MAAMM,SAAS,GAAG;IAChB,IAAI,CAAC,IAAI,CAACC,MAAM,EAAE,IAAI,CAACA,MAAM,GAAG,MAAM,CAAC,MAAMV,KAAK,CAAE,GAAE,IAAI,CAACZ,QAAS,uBAAsB,IAAI,CAACE,MAAO,EAAC,CAAC,EAAEc,IAAI,EAAE;IAChH,OAAO,IAAI,CAACM,MAAM;EACpB;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}